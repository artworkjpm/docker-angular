<div>
  <div class="container">
    <div class="top-title">
      <div>
        <h1>Top European Cities</h1>
      </div>
      <div class="add-button">
        <button mat-raised-button (click)="createPost()" color="accent">
          <mat-icon>add</mat-icon>
          Add New City
        </button>
      </div>
    </div>

    <table
      mat-table
      [dataSource]="apiService.postsArray"
      class="mat-elevation-z8"
    >
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef class="city-header">City</th>
        <td mat-cell *matCellDef="let item" class="city-name">
          <app-image-city
            [title]="item.title"
            [urlpath]="item.image_url"
          ></app-image-city>
        </td>
      </ng-container>

      <ng-container matColumnDef="content">
        <th mat-header-cell *matHeaderCellDef class="content-header">
          Description
        </th>
        <td mat-cell *matCellDef="let item" class="body">
          <div style="z-index: 1000">{{ item.content }}</div>
        </td>
      </ng-container>

      <ng-container matColumnDef="map">
        <th mat-header-cell *matHeaderCellDef>View map</th>
        <td mat-cell *matCellDef="let item">
          <button
            mat-raised-button
            (click)="openMap(item.lat, item.long)"
            color="primary"
          >
            See map
          </button>
        </td>
      </ng-container>
      <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef>Edit</th>
        <td mat-cell *matCellDef="let item">
          <button mat-raised-button (click)="editPost(item)" color="primary">
            Edit city
          </button>
        </td>
      </ng-container>

      <ng-container matColumnDef="remove">
        <th mat-header-cell *matHeaderCellDef>Remove</th>
        <td mat-cell *matCellDef="let item">
          <button
            mat-raised-button
            (click)="removePost(item.id, item)"
            color="warn"
          >
            Delete city
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>

  <router-outlet></router-outlet>
</div>
