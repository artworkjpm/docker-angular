<div>
  <app-top-nav></app-top-nav>
  <div class="container">
    <h1>Top European Cities</h1>
    <table
      mat-table
      [dataSource]="apiService.postsArray"
      class="mat-elevation-z8"
    >
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef class="city-header">Name</th>
        <td mat-cell *matCellDef="let item" class="city-name">
          <app-image-city
            [title]="item.title"
            [urlpath]="item.image_url"
          ></app-image-city>
        </td>
      </ng-container>

      <ng-container matColumnDef="content">
        <th mat-header-cell *matHeaderCellDef class="content-header">
          Content
        </th>
        <td mat-cell *matCellDef="let item" class="body">
          <div style="z-index: 1000">{{ item.content }}</div>
        </td>
      </ng-container>

      <ng-container matColumnDef="map">
        <th mat-header-cell *matHeaderCellDef>View map</th>
        <td mat-cell *matCellDef="let item">
          <button mat-raised-button (click)="openMap(item.lat, item.long)">
            See map
          </button>
        </td>
      </ng-container>
      <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef>Edit</th>
        <td mat-cell *matCellDef="let item">
          <button mat-raised-button (click)="editPost(item)">Edit city</button>
        </td>
      </ng-container>
      <ng-container matColumnDef="create">
        <th mat-header-cell *matHeaderCellDef>Create</th>
        <td mat-cell *matCellDef="let item">
          <button mat-raised-button (click)="editPost(item)">Add city</button>
        </td>
      </ng-container>
      <ng-container matColumnDef="remove">
        <th mat-header-cell *matHeaderCellDef>Remove</th>
        <td mat-cell *matCellDef="let item">
          <button mat-raised-button (click)="editPost(item)">
            Delete city
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>

  <router-outlet></router-outlet>
</div>
